{
  "_guid_": "S-1008.1",
  "_extends_": "Befta_Jurisdiction2_Token_For_Update_Case",
  "title": "must successfully update a cases TTL.SystemTTL value",

  "specs": [
    "an active profile in CCD",
    "contains correctly configured event details",
    "has a TTLIncrement of 20 days configured",
    "contains the TTL.SystemTTL for the case, that has been set to 20 days from today",
    "is configured to trigger an About To Start callback that does not change of the TTL.suspended or TTL.OverrideTTL or TTL.SystemTTL"
  ],

  "users": {
    "invokingUser": {
      "_extends_": "BeftaMasterCaseworker"
    }
  },

  "request": {
    "pathVariables": {
      "uid": "[[DEFAULT_AUTO_VALUE]]",
      "jid": "BEFTA_MASTER",
      "ctid": "FT_MasterCaseType",
      "cid": "${[scenarioContext][childContexts][F-1008_CreateCasePreRequisiteCaseworker][testData][actualResponse][body][id]}",
      "etid": "updateCaseTTLInc"
    }
  },

  "expectedResponse": {
    "responseCode": 200,
    "responseMessage": "OK",
    "headers": {
      "_extends_": "Common_Response_Headers",
      "Vary": "Accept-Encoding"
    },
    "body": {
      "token": "[[ANYTHING_PRESENT]]",
      "case_details": {
        "id": "${[scenarioContext][childContexts][F-1008_CreateCasePreRequisiteCaseworker][testData][actualResponse][body][id]}",
        "jurisdiction": "BEFTA_MASTER",
        "state": "CaseCreated",
        "version": 0,
        "case_type_id": "FT_MasterCaseType",
        "created_date": "[[ANYTHING_PRESENT]]",
        "last_modified": "[[ANYTHING_PRESENT]]",
        "last_state_modified_date": "[[ANYTHING_PRESENT]]",
        "security_classification": "PUBLIC",
        "case_data": {
          "TTL" : {
            "SystemTTL" : "${[scenarioContext][customValues][dateTwentyDaysFromToday]}",
            "OverrideTTL" : "2021-03-05",
            "Suspended" : "No"
          }
        },
        "data_classification": {
          "_extends_": "TTL_Case_Data_Classifications"
        },
        "supplementary_data": null,
        "after_submit_callback_response": null,
        "callback_response_status_code": null,
        "callback_response_status": null,
        "delete_draft_response_status_code": null,
        "delete_draft_response_status": null,
        "security_classifications": {
          "_extends_": "TTL_Case_Data_Classifications"
        }
      },
      "event_id": "updateCaseTTLInc"
    }
  }
}
