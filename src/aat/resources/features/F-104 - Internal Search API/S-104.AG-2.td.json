{
  "_guid_": "S-104.AG-2",
  "_extends_": "F-104_Test_Data_Base__AccessMetadata",

  "title": "Scenario 2 - User's assignments: Role1/BASIC + Role2/SPECIFIC (granted), R2AP mappings: Role1 + Role2 -> AP1 + AP2, Authorised Case/State: AP1 + AP2 will return Access Granted: `BASIC,SPECIFIC`",

  "specs": [
    "a caseworker with RA1: BASIC role assignment",
    "is configured to search for the previously created case via exact match",
    "contains `Access Granted` set to `BASIC,SPECIFIC`"
  ],

  "user": {
    "_extends_": "BeftaMasterCaseworker_Role1Basic"
  },

  "request": {
    "queryParams": {
      "ctid": "FT_CaseAccess_2Roles"
    },
    "body": {
      "query": {
        "match": {
          "reference": "${}${[scenarioContext][childContexts][CreateCase_FT_CaseAccess_2Roles_PreRequisiteCitizen][testData][actualResponse][body][id]}"
        }
      }
    }
  },

  "expectedResponse": {
    "body": {
      "cases": [ {
        "_extends_": "F-104_Base_Case_Fields_expected__AccessMetadata",

        "fields": {
          "TextField" : "[[ANYTHING_PRESENT]]",

          "[ACCESS_GRANTED]" : "BASIC,SPECIFIC",
          "[ACCESS_PROCESS]" : "[[ANYTHING_PRESENT]]"
        },

        "fields_formatted":  {
          "TextField" : "[[ANYTHING_PRESENT]]",

          "[ACCESS_GRANTED]" : "BASIC,SPECIFIC",
          "[ACCESS_PROCESS]" : "[[ANYTHING_PRESENT]]"
        }
      } ]
    }
  }
}
