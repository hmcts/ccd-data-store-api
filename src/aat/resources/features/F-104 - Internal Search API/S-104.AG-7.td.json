{
  "_guid_": "S-104.AG-7",
  "_extends_": "F-104_Test_Data_Base__AccessMetadata",

  "title": "Scenario 7 - User with IDAM role authorised to access case type, R2AP mappings: IdamRole -> AP1, Authorised Case/State: AP1 will return Access Granted: `STANDARD`",

  "specs": [
    "a caseworker with no role assignments",
    "is configured to search for the previously created case via exact match",
    "contains `Access Granted` set to `STANDARD`"
  ],

  "user": {
    "_extends_": "BeftaMasterCaseworker"
  },

  "request": {
    "queryParams": {
      "ctid": "FT_CaseAccess_IdamRole"
    },
    "body": {
      "query": {
        "match": {
          "reference": "${}${[scenarioContext][childContexts][CreateCase_FT_CaseAccess_IdamRole_PreRequisiteCitizen][testData][actualResponse][body][id]}"
        }
      }
    }
  },

  "expectedResponse": {
    "body": {
      "cases": [ {
        "_extends_": "F-104_Base_Case_Fields_expected__AccessMetadata",

        "fields": {
          "TextField" : "[[ANYTHING_PRESENT]]",

          "[ACCESS_GRANTED]" : "STANDARD",
          "[ACCESS_PROCESS]" : "[[ANYTHING_PRESENT]]"
        },

        "fields_formatted":  {
          "TextField" : "[[ANYTHING_PRESENT]]",

          "[ACCESS_GRANTED]" : "STANDARD",
          "[ACCESS_PROCESS]" : "[[ANYTHING_PRESENT]]"
        }
      } ]
    }
  }
}
