{
  "_guid_": "F-150_CreateCase_Conflict",
  "productName": "CCD Data Store",
  "operationName": "external create case",
  "method": "POST",
  "uri": "/case-types/{ctid}/cases",
  "specs": [
    "to create a decentralised case that triggers a conflict"
  ],
  "users": {
    "invokingUser": {
      "_extends_": "BeftaMasterCaseworker"
    }
  },
  "request": {
    "_extends_": "Common_Request",
    "headers": {
      "experimental": true,
      "Content-Type": "application/vnd.uk.gov.hmcts.ccd-data-store-api.create-case.v2+json;charset=UTF-8"
    },
    "pathVariables": {
      "ctid": "FT_Decentralisation"
    },
    "body": {
      "data": {
        "TextField": "Decentralised case"
      },
      "event": {
        "id": "simulateDecentralisedConflict"
      },
      "event_token": "${[scenarioContext][childContexts][F-150_CreateCase_Conflict_Token_Creation][testData][actualResponse][body][token]}",
      "event_data": {
        "TextField": "Decentralised case"
      },
      "ignore_warning": false
    }
  },
  "expectedResponse": {
    "_extends_": "Common_409_Response",
    "body": {
      "exception": "uk.gov.hmcts.ccd.endpoint.exceptions.CaseConcurrencyException",
      "status": 409,
      "error": "Conflict",
      "message": "Unfortunately we were unable to save your work to the case as another action happened at the same time.\nPlease review the case and try again.",
      "path": "[[ANY_STRING_NOT_NULLABLE]]",
      "details": null,
      "callbackErrors": null,
      "callbackWarnings": null,
      "timestamp": "[[ANY_STRING_NOT_NULLABLE]]"
    }
  }
}
