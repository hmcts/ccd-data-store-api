{
  "_guid_": "S-150.05_CaseView",
  "_extends_": "F-065_Test_Data_Base",
  "title": "Retrieve internal case view for decentralised case (shared context)",
  "prerequisites": [],
  "specs": [
    "As a prerequisite",
    "an active profile in CCD",
    "contains the case reference of the case just created",
    "contains HTTP 200 Ok",
    "Retrieve a case by ID for dynamic display",
    "returns the decentralised case view"
  ],
  "user": {
    "_extends_": "BeftaMasterCaseworker"
  },
  "request": {
    "headers": {
      "experimental": true,
      "Content-Type": "application/vnd.uk.gov.hmcts.ccd-data-store-api.ui-case-view.v2+json;charset=UTF-8"
    },
    "pathVariables": {
      "cid": "${[scenarioContext][parentContext][childContexts][S-150.01_Prereq][testData][actualResponse][body][id]}"
    }
  },
  "expectedResponse": {
    "_extends_": "Common_200_Response",
    "headers": {
      "Content-Type": "application/vnd.uk.gov.hmcts.ccd-data-store-api.ui-case-view.v2+json;charset=UTF-8",
      "Content-Length": "7642"
    },
    "body": {
      "_links": {
        "self": {
          "href": "{{TEST_URL}}/internal/cases/${[scenarioContext][parentContext][childContexts][S-150.01_Prereq][testData][actualResponse][body][id]}"
        }
      },
      "case_id": "${[scenarioContext][parentContext][childContexts][S-150.01_Prereq][testData][actualResponse][body][id]}",
      "case_type": {
        "id": "FT_Decentralisation",
        "name": "FT-Decentralisation",
        "description": "Minimal case type for decentralisation feature tests",
        "printEnabled": false,
        "jurisdiction": {
          "id": "BEFTA_MASTER",
          "name": "BEFTA Master",
          "description": "Content for the BEFTA Master Jurisdiction."
        }
      },
      "state": {
        "id": "CaseCreated",
        "name": "Create case",
        "description": null,
        "title_display": null
      },
      "tabs": [
        {
          "id": "NameTab",
          "label": "Details",
          "order": 2,
          "fields": [
            {
              "id": "TextField",
              "label": "Text Field",
              "hidden": false,
              "value": "Decentralised case",
              "metadata": false,
              "hint_text": null,
              "field_type": {
                "id": "Text",
                "type": "Text",
                "min": null,
                "max": null,
                "regular_expression": null,
                "fixed_list_items": [],
                "complex_fields": [],
                "collection_field_type": null
              },
              "validation_expr": null,
              "security_label": "PUBLIC",
              "order": 1,
              "formatted_value": "Decentralised case",
              "display_context": null,
              "display_context_parameter": null,
              "show_condition": null,
              "show_summary_change_option": null,
              "show_summary_content_option": null,
              "retain_hidden_value": null,
              "publish": null,
              "publish_as": null,
              "acls": [
                {
                  "create": true,
                  "read": true,
                  "update": true,
                  "delete": true,
                  "role": "caseworker-befta_master"
                }
              ]
            }
          ],
          "role": null,
          "show_condition": null
        }
      ],
      "metadataFields": [
        {
          "id": "[STATE]",
          "label": "State",
          "hidden": false,
          "value": "CaseCreated",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "FixedList-FT_Decentralisation[STATE]",
            "type": "FixedList",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [
              {
                "code": "CaseCreated",
                "label": "Create case",
                "order": "1"
              }
            ],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": []
        },
        {
          "id": "[JURISDICTION]",
          "label": "Jurisdiction",
          "hidden": false,
          "value": "BEFTA_MASTER",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "Text",
            "type": "Text",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": []
        },
        {
          "id": "[CASE_TYPE]",
          "label": "Case Type",
          "hidden": false,
          "value": "FT_Decentralisation",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "Text",
            "type": "Text",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": []
        },
        {
          "id": "[SECURITY_CLASSIFICATION]",
          "label": "Security Classification",
          "hidden": false,
          "value": "PUBLIC",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "Text",
            "type": "Text",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": []
        },
        {
          "id": "[CREATED_DATE]",
          "label": "Created Date",
          "hidden": false,
          "value": "${[scenarioContext][parentContext][childContexts][S-150.01_Prereq][testData][actualResponse][body][created_on]}",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "DateTime",
            "type": "DateTime",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": []
        },
        {
          "id": "[LAST_MODIFIED_DATE]",
          "label": "Last Modified Date",
          "hidden": false,
          "value": "${[scenarioContext][parentContext][childContexts][S-150.01_Prereq][testData][actualResponse][body][last_modified_on]}",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "DateTime",
            "type": "DateTime",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": []
        },
        {
          "id": "[LAST_STATE_MODIFIED_DATE]",
          "label": "Last State Modified Date",
          "hidden": false,
          "value": "${[scenarioContext][parentContext][childContexts][S-150.01_Prereq][testData][actualResponse][body][last_state_modified_on]}",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "DateTime",
            "type": "DateTime",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": []
        },
        {
          "id": "[CASE_REFERENCE]",
          "label": "Case Reference",
          "hidden": false,
          "value": "[[ANYTHING_PRESENT]]",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "Text",
            "type": "Text",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": []
        },
        {
          "id": "[ACCESS_GRANTED]",
          "label": "Access Granted",
          "hidden": null,
          "value": "STANDARD",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "Text",
            "type": "Text",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": null
        },
        {
          "id": "[ACCESS_PROCESS]",
          "label": "Access Process",
          "hidden": null,
          "value": "NONE",
          "metadata": true,
          "hint_text": null,
          "field_type": {
            "id": "Text",
            "type": "Text",
            "min": null,
            "max": null,
            "regular_expression": null,
            "fixed_list_items": [],
            "complex_fields": [],
            "collection_field_type": null
          },
          "validation_expr": null,
          "security_label": "PUBLIC",
          "order": null,
          "formatted_value": null,
          "display_context": null,
          "display_context_parameter": null,
          "show_condition": null,
          "show_summary_change_option": null,
          "show_summary_content_option": null,
          "retain_hidden_value": null,
          "publish": null,
          "publish_as": null,
          "acls": null
        }
      ],
      "triggers": [],
      "events": [
        {
          "id": "[[ANY_INTEGER_NOT_NULLABLE]]",
          "timestamp": "[[ANY_TIMESTAMP_NOT_NULLABLE]]",
          "summary": null,
          "comment": null,
          "event_id": "createCase",
          "event_name": "Create a case",
          "user_id": null,
          "user_last_name": null,
          "user_first_name": null,
          "state_name": null,
          "state_id": "CaseCreated",
          "significant_item": null,
          "proxied_by": null,
          "proxied_by_last_name": null,
          "proxied_by_first_name": null
        }
      ]
    }
  }
}
