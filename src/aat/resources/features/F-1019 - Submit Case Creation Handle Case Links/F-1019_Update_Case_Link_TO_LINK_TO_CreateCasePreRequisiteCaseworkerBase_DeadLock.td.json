{
	"_guid_": "F-1019_Update_Case_Link_TO_LINK_TO_CreateCasePreRequisiteCaseworkerBase_DeadLock",

	"productName": "CCD Data Store",
	"operationName": "submit event for an existing case (V2)",

	"method": "POST",
	"uri": "/cases/{cid}/events",

  "specs": [
    "to update a case to create case to case link",
    "contains the standard CaseLinks field with Case Reference values",
    "submit event for an existing case (V2)",
    "As a prerequisite"
  ],

  "prerequisites" : [{
    "Token_Creation": "S-1019_Get_Update_Token_CreateAnotherCasePreRequisiteCaseworkerBase_DeadLock"
  }],

  "users": {
    "invokingUser": {
      "_extends_": "BeftaMasterCaseworker"
    }
  },

	"request": {
		"headers": {
			"_extends_": "Common_Request_Headers",
			"Content-Type": "application/vnd.uk.gov.hmcts.ccd-data-store-api.create-event.v2+json",
			"experimental": true
		},
     "pathVariables": {
       "cid": "${[scenarioContext][parentContext][childContexts][F-1019_CreateAnotherCasePreRequisiteCaseworkerBase][testData][actualResponse][body][id]}"
    },
    "body": {
        "data": {
          "_extends_": "F-1019-LinkToF-1019_CreateCasePreRequisiteCaseworkerBase"
        },
        "event": {
          "id": "updateCase",
          "summary": "",
          "description": ""
        },
        "security_classification": "PUBLIC",
        "event_token" : "${[scenarioContext][childContexts][Token_Creation][testData][actualResponse][body][token]}",
        "ignore_warning": true
      }
    },

    "expectedResponse": {
      "_extends_": "Common_201_Response",
      "body" : {
        "_links": "[[ANYTHING_PRESENT]]",
        "id": "[[ANYTHING_PRESENT]]",
        "jurisdiction": "[[ANYTHING_PRESENT]]",
        "case_type": "[[ANYTHING_PRESENT]]",
        "created_on": "[[ANYTHING_PRESENT]]",
        "last_modified_on": "[[ANYTHING_PRESENT]]",
        "last_state_modified_on" : "[[ANY_TIMESTAMP_NOT_NULLABLE]]",
        "state": "[[ANYTHING_PRESENT]]",
        "security_classification": "[[ANYTHING_PRESENT]]",
        "data" : {
          "_extends_": "F-1019-LinkToF-1019_CreateCasePreRequisiteCaseworkerBase"
        },
        "data_classification" : {
          "_extends_": "F-1019-ClassificationsForCaseDataWithCreateCasePreRequisiteCaseworkerBase"
        },
        "after_submit_callback_response": null,
        "callback_response_status_code": null,
        "callback_response_status": null,
        "delete_draft_response_status_code": null,
        "delete_draft_response_status": null
      }
    }
}
