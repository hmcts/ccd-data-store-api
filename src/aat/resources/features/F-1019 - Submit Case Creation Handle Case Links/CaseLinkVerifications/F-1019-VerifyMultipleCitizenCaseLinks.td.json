{
	"title": "should retrieve case links for a specified case reference",
	"_guid_": "F-1009-VerifyMultipleCitizenCaseLinks",

	"productName": "CCD Data Store",
	"operationName": "Retrieve case links for an existing case reference",

	"method": "GET",
	"uri": "/testing-support/case-link/{cid}",

	"specs": [
		"to verify that the Case Links have been created in the CASE_LINK table with correct values"
	],

  "users": {
    "invokingUser": {
      "_extends_": "BeftaMasterCaseworker"
    }
  },

	"request": {
		"headers": {
			"_extends_": "Common_Request_Headers",
      "experimental": "true"
		},
		"pathVariables": {
			"cid": "${[scenarioContext][parentContext][testData][actualResponse][body][id]}"
		}
	},

	"expectedResponse": {
		"_extends_": "Common_200_Response",
		"headers": {
			"Content-Encoding": "gzip",
			"Content-Length": "[[ANYTHING_PRESENT]]"
		},
		"body": {
      "CaseLinks" : [{
        "__elementId__": "LinkedCaseId"
      },
      {
        "CaseReference" : "${[scenarioContext][parentContext][testData][actualResponse][body][id]}",
        "LinkedCaseReference" : "${[scenarioContext][parentContext][childContexts][F-1009_CreateCasePreRequisiteCitizenBase][testData][actualResponse][body][id]}",
        "CaseTypeId" : "FT_MasterCaseType"
      },
      {
        "CaseReference" : "${[scenarioContext][parentContext][testData][actualResponse][body][id]}",
        "LinkedCaseReference" : "${[scenarioContext][parentContext][childContexts][F-1009_CreateAnotherCasePreRequisiteCitizenBase][testData][actualResponse][body][id]}",
        "CaseTypeId" : "FT_MasterCaseType"
      }]
		}
	}
}
