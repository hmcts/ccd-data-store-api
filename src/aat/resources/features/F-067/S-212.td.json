{
  "title": "must return 201 if the grant is successful for a user to a valid case ID",
  "_guid_": "S-212",
  "_extends_": "F-067_Test_Data_Base",
  "specs": [
    "an active profile in CCD",
    "contains the reference of the case just created and the event id valid for that case",
    "contains HTTP 200 Ok"
  ],
  "request": {
    "headers": {
      "_extends_": "Common_Request_Headers",
      "experimental": true,
      "Content-Type": "application/vnd.uk.gov.hmcts.ccd-data-store-api.ui-event-view.v2+json;charset=UTF-8"
    },
    "pathVariables": {
      "cid": "${[scenarioContext][childContexts][Befta_Default_Full_Case_Creation_Data][testData][actualResponse][body][id]}",
      "eventId": "${[scenarioContext][childContexts][S-212_Get_Case_Data][testData][actualResponse][body][events][0][id]}"
    }
  },
  "expectedResponse": {
    "responseCode": 200,
    "responseMessage": "Created",
    "headers": {
      "_extends_": "Common_Response_Headers",
      "Content-Length": "[[ANY]]",
      "Content-Type": "[[ANY]]",
      "Transfer-Encoding": "[[ANY]]"
    },
    "body": {
      "tabs": [
        {
          "id": "FirstTab",
          "label": "First tab",
          "order": 1,
          "fields": [
            {
              "id": "TextField",
              "label": "A `Text` field",
              "hidden": false,
              "value": "Some Text",
              "metadata": false,
              "hint_text": "Some generic textual data.",
              "field_type": {
                "id": "Text",
                "type": "Text",
                "min": null,
                "max": null,
                "regular_expression": null,
                "fixed_list_items": [],
                "complex_fields": [],
                "collection_field_type": null
              },
              "validation_expr": null,
              "security_label": "PUBLIC",
              "order": 1,
              "display_context": null,
              "display_context_parameter": null,
              "show_condition": null,
              "show_summary_change_option": null,
              "show_summary_content_option": null,
              "acls": [
                {
                  "role": "caseworker-befta_jurisdiction_1",
                  "create": true,
                  "read": true,
                  "update": true,
                  "delete": false
                }
              ]
            },
            {
              "id": "NumberField",
              "label": "A `Number` field",
              "hidden": false,
              "value": "164528",
              "metadata": false,
              "hint_text": "A numeric data.",
              "field_type": {
                "id": "Number",
                "type": "Number",
                "min": null,
                "max": null,
                "regular_expression": null,
                "fixed_list_items": [],
                "complex_fields": [],
                "collection_field_type": null
              },
              "validation_expr": null,
              "security_label": "PUBLIC",
              "order": 2,
              "display_context": null,
              "display_context_parameter": null,
              "show_condition": null,
              "show_summary_change_option": null,
              "show_summary_content_option": null,
              "acls": [
                {
                  "role": "caseworker-befta_jurisdiction_1",
                  "create": true,
                  "read": true,
                  "update": true,
                  "delete": false
                }
              ]
            },
            {
              "id": "YesOrNoField",
              "label": "A `YesOrNo` field",
              "hidden": false,
              "value": "Yes",
              "metadata": false,
              "hint_text": "A simple boolean.",
              "field_type": {
                "id": "YesOrNo",
                "type": "YesOrNo",
                "min": null,
                "max": null,
                "regular_expression": null,
                "fixed_list_items": [],
                "complex_fields": [],
                "collection_field_type": null
              },
              "validation_expr": null,
              "security_label": "PUBLIC",
              "order": 3,
              "display_context": null,
              "display_context_parameter": null,
              "show_condition": null,
              "show_summary_change_option": null,
              "show_summary_content_option": null,
              "acls": [
                {
                  "role": "caseworker-befta_jurisdiction_1",
                  "create": true,
                  "read": true,
                  "update": true,
                  "delete": false
                }
              ]
            },
            {
              "id": "PhoneUKField",
              "label": "A `PhoneUK` field",
              "hidden": false,
              "value": "07123456789",
              "metadata": false,
              "hint_text": "A UK phone number.",
              "field_type": {
                "id": "PhoneUK",
                "type": "PhoneUK",
                "min": null,
                "max": null,
                "regular_expression": "^(((\\+44\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\+44\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\+44\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?\\#(\\d{4}|\\d{3}))?$",
                "fixed_list_items": [],
                "complex_fields": [],
                "collection_field_type": null
              },
              "validation_expr": "^(((\\+44\\s?\\d{4}|\\(?0\\d{4}\\)?)\\s?\\d{3}\\s?\\d{3})|((\\+44\\s?\\d{3}|\\(?0\\d{3}\\)?)\\s?\\d{3}\\s?\\d{4})|((\\+44\\s?\\d{2}|\\(?0\\d{2}\\)?)\\s?\\d{4}\\s?\\d{4}))(\\s?\\#(\\d{4}|\\d{3}))?$",
              "security_label": "PUBLIC",
              "order": 4,
              "display_context": null,
              "display_context_parameter": null,
              "show_condition": null,
              "show_summary_change_option": null,
              "show_summary_content_option": null,
              "acls": [
                {
                  "role": "caseworker-befta_jurisdiction_1",
                  "create": true,
                  "read": true,
                  "update": true,
                  "delete": false
                }
              ]
            },
            {
              "id": "EmailField",
              "label": "An `Email` field",
              "hidden": false,
              "value": "ccd@hmcts.net",
              "metadata": false,
              "hint_text": "A valid email address.",
              "field_type": {
                "id": "Email",
                "type": "Email",
                "min": null,
                "max": null,
                "regular_expression": null,
                "fixed_list_items": [],
                "complex_fields": [],
                "collection_field_type": null
              },
              "validation_expr": null,
              "security_label": "PUBLIC",
              "order": 5,
              "display_context": null,
              "display_context_parameter": null,
              "show_condition": null,
              "show_summary_change_option": null,
              "show_summary_content_option": null,
              "acls": [
                {
                  "role": "caseworker-befta_jurisdiction_1",
                  "create": true,
                  "read": true,
                  "update": true,
                  "delete": false
                }
              ]
            }
          ],
          "role": null,
          "show_condition": null
        },
        {
          "id": "SecondTab",
          "label": "Second tab",
          "order": 2,
          "fields": [
            {
              "id": "MoneyGBPField",
              "label": "A `MoneyGBP` field",
              "hidden": false,
              "value": "4200",
              "metadata": false,
              "hint_text": "A monetary value.",
              "field_type": {
                "id": "MoneyGBP",
                "type": "MoneyGBP",
                "min": null,
                "max": null,
                "regular_expression": null,
                "fixed_list_items": [],
                "complex_fields": [],
                "collection_field_type": null
              },
              "validation_expr": null,
              "security_label": "PUBLIC",
              "order": 1,
              "display_context": null,
              "display_context_parameter": null,
              "show_condition": null,
              "show_summary_change_option": null,
              "show_summary_content_option": null,
              "acls": [
                {
                  "role": "caseworker-befta_jurisdiction_1",
                  "create": true,
                  "read": true,
                  "update": true,
                  "delete": false
                }
              ]
            }
          ],
          "role": null,
          "show_condition": null
        }
      ],
      "metadataFields": null,
      "_links": {
        "self": {
          "href": "[[ANY]]"
        }
      },
      "case_id": "[[ANY]]",
      "case_type": {
        "id": "BEFTA_CASETYPE_1_1",
        "name": "BEFTA Case Type 1 1",
        "description": "Create a case of type BEFTA_CASETYPE_1_1",
        "jurisdiction": {
          "id": "BEFTA_JURISDICTION_1",
          "name": "BEFTA_JURISDICTION_1",
          "description": "Content for the Test Jurisdiction."
        },
        "printEnabled": false
      },
      "event": {
        "id": "[[ANY]]",
        "timestamp": "[[ANY]]",
        "summary": "",
        "comment": "",
        "event_id": "CREATE",
        "event_name": "Create a new case",
        "user_id": "[[ANY]]",
        "user_last_name": "Test",
        "user_first_name": "User",
        "state_name": "To do",
        "state_id": "TODO",
        "significant_item": null
      }
    }
  }
}
